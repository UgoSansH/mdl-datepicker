!function(window){"use strict";"undefined"==typeof window.epepite&&(window.epepite={}),"undefined"==typeof epepite.DatePicker&&(epepite.DatePicker={}),"undefined"==typeof epepite.DatePicker.Translations&&(epepite.DatePicker.Translations={}),epepite.DatePicker.Translations.en={day:"Day",month:"Month",header:{year_next:"Next year",year_prev:"Previous year %year%"},days:["Sunday","Monday","Thuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]}}(window),function(window){"use strict";"undefined"==typeof window.epepite&&(window.epepite={}),"undefined"==typeof epepite.DatePicker&&(epepite.DatePicker={}),"undefined"==typeof epepite.DatePicker.Translations&&(epepite.DatePicker.Translations={}),epepite.DatePicker.Translations.fr={day:"Jour",month:"Mois",header:{year_next:"Année suivante",year_prev:"Année précédente %year%"},days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]}}(window),function(window){"use strict";"undefined"==typeof window.epepite&&(window.epepite={}),"undefined"==typeof epepite.DatePicker&&(epepite.DatePicker={}),"undefined"==typeof epepite.DatePicker.TEMPLATES&&(epepite.DatePicker.TEMPLATES={}),epepite.DatePicker.TEMPLATES["default"]='<div class="mdl-calendar__header"><div class="mdl-calendar__header-year"><button type="button" name="mdl-calendar-year-prev" class="%YEAR_PREV_CLASS% %VISIBLE_CLASS% mdl-calendar__year--button left mdl-calendar__button"><i class="icon material-icons">keyboard_arrow_left</i></button><p class="%YEAR_CLASS%">2016</p><button type="button" name="mdl-calendar-year-next" class="%YEAR_NEXT_CLASS% %VISIBLE_CLASS% mdl-calendar__year--button right mdl-calendar__button"><i class="icon material-icons">keyboard_arrow_right</i></button></div><p class="mdl-calendar__header-fulldate %TEXT_DATE_CLASS%">Mercredi 16 Mars</p></div><div class="mdl-calendar__body"><div class="mdl-calendar__body-month"><button type="button" name="mdl-calendar__month--prev" class="%MONTH_PREV_CLASS% %VISIBLE_CLASS% mdl-calendar__button"><i class="icon material-icons">keyboard_arrow_left</i></button><p class="mdl-calendar__body-month-title"><span class="%MONTH_CLASS%">Mars</span> <span class="%YEAR_CLASS%">2016</span></p><button type="button" name="mdl-calenda__month--next" class="%MONTH_NEXT_CLASS% %VISIBLE_CLASS% mdl-calendar__button"><i class="icon material-icons">keyboard_arrow_right</i></button></div><div class="%WEEK_LABELS_CLASS%"><div class="%WEEK_CLASS% %WEEK_LABELS_CLASS%"><span class="%WEEK_ITEM_CLASS% %WEEK_LABEL_CLASS%">L</span><span class="%WEEK_ITEM_CLASS% %WEEK_LABEL_CLASS%">M</span><span class="%WEEK_ITEM_CLASS% %WEEK_LABEL_CLASS%">M</span><span class="%WEEK_ITEM_CLASS% %WEEK_LABEL_CLASS%">J</span><span class="%WEEK_ITEM_CLASS% %WEEK_LABEL_CLASS%">V</span><span class="%WEEK_ITEM_CLASS% %WEEK_LABEL_CLASS%">S</span><span class="%WEEK_ITEM_CLASS% %WEEK_LABEL_CLASS%">D</span></div></div><div class="%DAY_CONTAINER_CLASS%"></div></div></div>'}(window),function(window){"use strict";"undefined"==typeof window.epepite&&(window.epepite={}),"undefined"==typeof epepite.DatePicker&&(epepite.DatePicker={}),epepite.DatePicker.Calendar=function(config,translator,templating){if(this.date=null,this.oldDate=null,this.cursorDate=null,this.container=null,this.element=null,this.templating=templating,this.translator=translator,this.config={container:null,locale:navigator&&navigator.language?navigator.language:"en",date:null,min_date:null,max_date:null,format:"dd/mm/YY",template:"default",show:!0},config)for(var key in config)this.config.hasOwnProperty(key)&&(this.config[key]=config[key]);if(this.config.date?this.config.date instanceof Date?this.date=this.config.date:this.date=new Date(this.config.date):this.date=new Date,this.cursorDate=new Date(this.date.getTime()),this.container="string"==typeof this.config.container?document.querySelector(this.config.container):this.config.container,this.templating=templating||new epepite.DatePicker.Template,this.translator=translator||new epepite.DatePicker.Translator,this.translator.setCurrentLocale(this.config.locale),!this.container)throw'Not found withouth datepicker container element "'+this.config.container+'"';if("undefined"==typeof epepite.DatePicker.TEMPLATES[this.config.template])throw'Undefined template "'+this.config.template+'"';this.renderElement(),this.config.show&&this.show(),this.dispatch("load")},epepite.DatePicker.Calendar.prototype.show=function(){this.element&&this.element.classList.add(epepite.DatePicker.CONSTANTS.VISIBLE_CLASS),this.dispatch("show")},epepite.DatePicker.Calendar.prototype.hide=function(){this.element&&this.element.classList.remove(epepite.DatePicker.CONSTANTS.VISIBLE_CLASS),this.dispatch("hide")},epepite.DatePicker.Calendar.prototype.isVisible=function(){return this.element?this.element.classList.contains(epepite.DatePicker.CONSTANTS.VISIBLE_CLASS):!1},epepite.DatePicker.Calendar.prototype.refresh=function(){if(this.renderMetadata(),!this.oldDate||this.cursorDate.getFullYear()!=this.oldDate.getFullYear()||this.cursorDate.getMonth()!=this.oldDate.getMonth()){var constants=epepite.DatePicker.CONSTANTS;this.renderGridMonth(),this.oldDate=new Date(this.cursorDate.getTime()),this.config.min_date&&(this.cursorDate.getFullYear()<=this.config.min_date.getFullYear()?(this.element.querySelector("."+constants.YEAR_PREV_CLASS).classList.remove(constants.VISIBLE_CLASS),this.cursorDate.getMonth()<=this.config.min_date.getMonth()?(console.log("no update month"),this.element.querySelector("."+constants.MONTH_PREV_CLASS).classList.remove(constants.VISIBLE_CLASS)):this.element.querySelector("."+constants.MONTH_PREV_CLASS).classList.add(constants.VISIBLE_CLASS)):this.element.querySelector("."+constants.YEAR_PREV_CLASS).classList.add(constants.VISIBLE_CLASS)),this.config.max_date&&(this.cursorDate.getFullYear()>=this.config.max_date.getFullYear()?(this.element.querySelector("."+constants.YEAR_NEXT_CLASS).classList.remove(constants.VISIBLE_CLASS),this.cursorDate.getMonth()>=this.config.max_date.getMonth()?this.element.querySelector("."+constants.MONTH_NEXT_CLASS).classList.remove(constants.VISIBLE_CLASS):this.element.querySelector("."+constants.MONTH_NEXT_CLASS).classList.add(constants.VISIBLE_CLASS)):this.element.querySelector("."+constants.YEAR_NEXT_CLASS).classList.add(constants.VISIBLE_CLASS))}},epepite.DatePicker.Calendar.prototype.bindEvents=function(){var prevYear=this.selectNotUpgraded("."+epepite.DatePicker.CONSTANTS.YEAR_PREV_CLASS),nextYear=this.selectNotUpgraded("."+epepite.DatePicker.CONSTANTS.YEAR_NEXT_CLASS),prevMonth=this.selectNotUpgraded("."+epepite.DatePicker.CONSTANTS.MONTH_PREV_CLASS),nextMonth=this.selectNotUpgraded("."+epepite.DatePicker.CONSTANTS.MONTH_NEXT_CLASS),days=this.selectNotUpgraded("."+epepite.DatePicker.CONSTANTS.DAY_CLASS+":not(."+epepite.DatePicker.CONSTANTS.DISABLED_CLASS+")");this.createDispatchers(prevYear,epepite.DatePicker.CONSTANTS.YEAR_PREV_EVENT),this.createDispatchers(nextYear,epepite.DatePicker.CONSTANTS.YEAR_NEXT_EVENT),this.createDispatchers(prevMonth,epepite.DatePicker.CONSTANTS.MONTH_PREV_EVENT),this.createDispatchers(nextMonth,epepite.DatePicker.CONSTANTS.MONTH_NEXT_EVENT),this.createDispatchers(days,epepite.DatePicker.CONSTANTS.DAY_EVENT)},epepite.DatePicker.Calendar.prototype.createDispatchers=function(nodes,eventName){for(var self=this,i=0;i<nodes.length;i++)nodes[i].addEventListener("click",function(event){self.dispatch(eventName,{node:this})}),nodes[i].classList.add(epepite.DatePicker.CONSTANTS.UPGRADED_CLASS)},epepite.DatePicker.Calendar.prototype.onPrevYear=function(event){this.cursorDate.setFullYear(this.cursorDate.getFullYear()-1),this.refresh()},epepite.DatePicker.Calendar.prototype.onNextYear=function(event){this.cursorDate.setFullYear(this.cursorDate.getFullYear()+1),this.refresh()},epepite.DatePicker.Calendar.prototype.onPrevMonth=function(event){this.cursorDate.setMonth(this.cursorDate.getMonth()-1),this.refresh()},epepite.DatePicker.Calendar.prototype.onNextMonth=function(event){this.cursorDate.setMonth(this.cursorDate.getMonth()+1),this.refresh()},epepite.DatePicker.Calendar.prototype.onSelectDay=function(event){for(var constants=epepite.DatePicker.CONSTANTS,node=event.detail.node,selectedDays=this.element.querySelectorAll("."+constants.DAY_CONTAINER_CLASS+" ."+constants.DAY_CLASS),i=0;i<selectedDays.length;i++)selectedDays[i].classList.remove(epepite.DatePicker.CONSTANTS.SELECTED_CLASS);node.classList.add(epepite.DatePicker.CONSTANTS.SELECTED_CLASS),this.cursorDate.setDate(node.dataset.day),this.date=new Date(this.cursorDate.getFullYear(),this.cursorDate.getMonth(),node.dataset.day),this.refresh(),this.dispatch(epepite.DatePicker.CONSTANTS.DATE_EVENT,{node:event.detail.node,date:this.date,day:node.dataset.day})},epepite.DatePicker.Calendar.prototype.renderElement=function(){if(!this.element){this.element=document.createElement("div"),this.element.classList.add(epepite.DatePicker.CONSTANTS.CALENDAR_CLASS);var template=this.templating.load(this.config.template);this.element.innerHTML=template,this.container.appendChild(this.element),this.element.addEventListener(epepite.DatePicker.CONSTANTS.YEAR_PREV_EVENT,this.onPrevYear.bind(this)),this.element.addEventListener(epepite.DatePicker.CONSTANTS.YEAR_NEXT_EVENT,this.onNextYear.bind(this)),this.element.addEventListener(epepite.DatePicker.CONSTANTS.MONTH_PREV_EVENT,this.onPrevMonth.bind(this)),this.element.addEventListener(epepite.DatePicker.CONSTANTS.MONTH_NEXT_EVENT,this.onNextMonth.bind(this)),this.element.addEventListener(epepite.DatePicker.CONSTANTS.DAY_EVENT,this.onSelectDay.bind(this)),this.refresh(),this.element.classList.add(epepite.DatePicker.CONSTANTS.UPGRADED_CLASS),this.dispatch("upgraded")}},epepite.DatePicker.Calendar.prototype.renderMetadata=function(){for(var constants=epepite.DatePicker.CONSTANTS,fullDates=this.element.querySelectorAll("."+constants.TEXT_DATE_CLASS),years=this.element.querySelectorAll("."+constants.YEAR_CLASS),months=this.element.querySelectorAll("."+constants.MONTH_CLASS),transDay=this.translator.trans("days"),transMonths=this.translator.trans("months"),monthText=(transDay[this.date.getDay()],transMonths[this.cursorDate.getMonth()]),fullDate=this.formatDate(this.date),i=0;i<fullDates.length;i++)fullDates[i].innerHTML=fullDate;for(var i=0;i<years.length;i++)years[i].innerHTML=this.cursorDate.getFullYear();for(var i=0;i<months.length;i++)months[i].innerHTML=monthText},epepite.DatePicker.Calendar.prototype.renderGridMonth=function(){for(var container=this.element.querySelector("."+epepite.DatePicker.CONSTANTS.DAY_CONTAINER_CLASS);container.hasChildNodes();)container.removeChild(container.lastChild);this.renderPreviousMonth(this.cursorDate,container),this.renderCurrentMonth(this.cursorDate,container),this.renderNextMonth(this.cursorDate,container),this.bindEvents()},epepite.DatePicker.Calendar.prototype.renderPreviousMonth=function(date,container){var month=new Date(date.getFullYear(),date.getMonth(),1),dayNumber=(0==month.getDay()?7:month.getDay())-1;if(dayNumber>1)for(var prevMonth=new Date(month.getFullYear(),month.getMonth(),-Math.abs(dayNumber)+1),prevMonthLast=new Date(prevMonth.getFullYear(),prevMonth.getMonth()+1,0),dayDate=new Date(prevMonth.getFullYear(),prevMonth.getMonth(),prevMonth.getDate()),i=prevMonth.getDate();i<=prevMonthLast.getDate();i++)dayDate.setDate(i),this.getContainerDay(container).appendChild(this.renderDay(dayDate,!1,!0))},epepite.DatePicker.Calendar.prototype.renderCurrentMonth=function(date,container){for(var lastDay=new Date(date.getFullYear(),date.getMonth()+1,0).getDate(),dayDate=new Date(date.getFullYear(),date.getMonth(),1),i=1;lastDay>=i;i++)dayDate.setDate(i),this.getContainerDay(container).appendChild(this.renderDay(dayDate))},epepite.DatePicker.Calendar.prototype.renderNextMonth=function(date,container){var lastDay=new Date(date.getFullYear(),date.getMonth()+1,0);if(lastDay.getDay()>0)for(var month=new Date(date.getFullYear(),date.getMonth()+1,1),dayDate=new Date(month.getFullYear(),month.getMonth(),1),dayNumber=(0==month.getDay()?7:month.getDay())-1,dayNumber=(0==month.getDay()?7:month.getDay())-1,i=1;7-dayNumber>=i;i++)dayDate.setDate(i),this.getContainerDay(container).appendChild(this.renderDay(dayDate))},epepite.DatePicker.Calendar.prototype.renderDay=function(date){var element=document.createElement("button"),today=new Date;return element.innerHTML=this.formatNumber(date.getDate()),element.dataset.day=date.getDate(),element.classList.add(epepite.DatePicker.CONSTANTS.WEEK_ITEM_CLASS),element.classList.add(epepite.DatePicker.CONSTANTS.DAY_CLASS),date.toDateString()==this.date.toDateString()&&element.classList.add(epepite.DatePicker.CONSTANTS.SELECTED_CLASS),date.toDateString()==today.toDateString()&&element.classList.add(epepite.DatePicker.CONSTANTS.DAY_TODAY_CLASS),date.getMonth()!=this.cursorDate.getMonth()&&(element.setAttribute("disable","disable"),element.classList.add(epepite.DatePicker.CONSTANTS.DISABLED_CLASS)),this.config.min_date&&date<this.config.min_date&&(element.setAttribute("disable","disable"),element.classList.add(epepite.DatePicker.CONSTANTS.DISABLED_CLASS)),this.config.max_date&&date>this.config.max_date&&(element.setAttribute("disable","disable"),element.classList.add(epepite.DatePicker.CONSTANTS.DISABLED_CLASS)),element},epepite.DatePicker.Calendar.prototype.getContainerDay=function(daysContainer){var container=daysContainer.querySelector("."+epepite.DatePicker.CONSTANTS.WEEK_CLASS+":last-child");if(container){var days=container.querySelectorAll("."+epepite.DatePicker.CONSTANTS.DAY_CLASS);days&&days.length>=7&&(container=document.createElement("div"),container.classList.add(epepite.DatePicker.CONSTANTS.WEEK_CLASS),daysContainer.appendChild(container))}else container=document.createElement("div"),container.classList.add(epepite.DatePicker.CONSTANTS.WEEK_CLASS),daysContainer.appendChild(container);return container},epepite.DatePicker.Calendar.prototype.dispatch=function(name,detail){this.element&&this.element.dispatchEvent(new CustomEvent(name,{detail:detail}))},epepite.DatePicker.Calendar.prototype.on=function(event,handler){return this.element?this.element.addEventListener(event,handler):null},epepite.DatePicker.Calendar.prototype.selectNotUpgraded=function(selector){return this.element.querySelectorAll(selector+":not(."+epepite.DatePicker.CONSTANTS.UPGRADED_CLASS+")")},epepite.DatePicker.Calendar.prototype.formatDate=function(date){var transDay=this.translator.trans("days"),transMonths=this.translator.trans("months"),dayText=transDay[this.date.getDay()],monthText=transMonths[this.date.getMonth()];return dayText+" "+this.formatNumber(this.date.getDate())+" "+monthText},epepite.DatePicker.Calendar.prototype.formatNumber=function(number){return parseInt(number)<10?"0"+number:number},epepite.DatePicker.Calendar.prototype.getElement=function(){return this.element},epepite.DatePicker.Calendar.prototype.getDate=function(){return this.date},epepite.DatePicker.Calendar.prototype.setDate=function(date){if(!(date instanceof Date))throw"[InvalidArgument] Calendar.setDate(Date date) must be an instance of date";return this.date=date,this.currentDate=date,this.refresh(),this}}(window),function(window){"use strict";"undefined"==typeof window.epepite&&(window.epepite={}),"undefined"==typeof epepite.DatePicker&&(epepite.DatePicker={}),epepite.DatePicker.DatePicker=function(config,calendar){if(this.element=null,this.calendar=calendar,this.input=null,this.config={input:null,locale:navigator&&navigator.language?navigator.language:"en",format:"DD/MM/YYYY",min_date:null,max_date:null},config)for(var key in config)this.config.hasOwnProperty(key)&&(this.config[key]=config[key]);if(this.input="string"==typeof this.config.input?document.querySelector(this.config.input):this.config.input,!this.input)throw"Not found datepicker input";this.render(),this.bindEvents()},epepite.DatePicker.DatePicker.prototype.bindEvents=function(){this.input.addEventListener("focus",this.onFocus.bind(this)),this.element.addEventListener("click",this.onOutside.bind(this)),this.calendar.on(epepite.DatePicker.CONSTANTS.DATE_EVENT,this.onSelected.bind(this))},epepite.DatePicker.DatePicker.prototype.onFocus=function(event){this.calendar.setDate(this.getDate()),this.show()},epepite.DatePicker.DatePicker.prototype.onSelected=function(event){this.setDate(event.detail.date),this.hide();var event=new CustomEvent(epepite.DatePicker.CONSTANTS.DATEPICKER_EVENT,{detail:{date:this.getDate(),text:moment(this.getDate()).format(this.config.format),format:this.config.format}});this.element.dispatchEvent(event)},epepite.DatePicker.DatePicker.prototype.onOutside=function(event){event.target==this.element&&this.hide()},epepite.DatePicker.DatePicker.prototype.show=function(){this.element&&this.element.classList.add(epepite.DatePicker.CONSTANTS.VISIBLE_CLASS)},epepite.DatePicker.DatePicker.prototype.hide=function(){this.element&&this.element.classList.remove(epepite.DatePicker.CONSTANTS.VISIBLE_CLASS)},epepite.DatePicker.DatePicker.prototype.render=function(){this.element=document.createElement("div"),this.element.classList.add(epepite.DatePicker.CONSTANTS.DATEPICKER_WRAPPER_CLASS);var datepicker=document.createElement("div");datepicker.classList.add(epepite.DatePicker.CONSTANTS.DATEPICKER_CLASS),this.element.appendChild(datepicker),document.body.appendChild(this.element),this.calendar=new epepite.DatePicker.Calendar({locale:this.config.locale,container:this.element.querySelector("."+epepite.DatePicker.CONSTANTS.DATEPICKER_CLASS),date:this.getDate(),min_date:this.config.min_date,max_date:this.config.max_date})},epepite.DatePicker.DatePicker.prototype.setDate=function(date){return this.input.value=moment(date).format(this.config.format),this.calendar.setDate(date),this},epepite.DatePicker.DatePicker.prototype.getDate=function(){var currentDate=null;if(this.input.value){var dateMoment=moment(this.input.value,this.config.format);currentDate=dateMoment.isValid()?dateMoment.toDate():new Date}else currentDate=new Date;return currentDate},epepite.DatePicker.DatePicker.prototype.getElement=function(){return this.element},epepite.DatePicker.DatePicker.prototype.on=function(event,handler){return this.element.addEventListener(event,handler)}}(window),function(window){"use strict";"undefined"==typeof window.epepite&&(window.epepite={}),"undefined"==typeof epepite.DatePicker&&(epepite.DatePicker={}),epepite.DatePicker.Translator=function(locale){if(this.locale=locale||"en_EN",this.translations={en_EN:{}},"object"==typeof epepite.DatePicker.Translations)for(var locale in epepite.DatePicker.Translations)this.setTranslation(locale,epepite.DatePicker.Translations[locale])},epepite.DatePicker.Translator.prototype.setCurrentLocale=function(locale){return this.locale=locale,this},epepite.DatePicker.Translator.prototype.getCurrentLocale=function(){return this.locale},epepite.DatePicker.Translator.prototype.setTranslation=function(locale,translations){return this.translations[locale]=translations,this},epepite.DatePicker.Translator.prototype.trans=function(message,params,locale){if(locale=locale||this.locale,"object"==typeof this.translations[locale]){var translate="";if("undefined"!=typeof this.translations[locale][message])translate=this.translations[locale][message];else{for(var domain=this.translations[locale],keys=message.split("."),i=0;i<keys.length;i++){if("undefined"==typeof domain[keys[i]])return message;domain=domain[keys[i]]}translate=domain}if("string"==typeof translate&&params)for(var key in params)params.hasOwnProperty(key)&&(translate=translate.replace(key,params[key]));return translate}return message},epepite.DatePicker.Translator.prototype.has=function(locale){return"undefined"!=typeof this.translations[locale]}}(window);
//# sourceMappingURL=app.map